{"version":3,"sources":["reducers/itemsReducer.js","reducers/index.js","actions/types.js","store.js","components/AddItem.js","actions/itemsAction.js","components/DiscountComponent.js","components/ItemTable.js","components/Landing.js","App.js","index.js"],"names":["initialState","itemList","combineReducers","state","arguments","length","undefined","action","type","Object","objectSpread","payload","middleware","thunk","store","createStore","rootReducer","applyMiddleware","apply","AddItem","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","itemName","itemPrice","assertThisInitialized","onChange","bind","onSubmit","evt","setState","defineProperty","target","name","value","preventDefault","newItem","props","addItem","react_default","a","createElement","Form","Row","form","Col","md","FormGroup","Label","for","Input","placeholder","pattern","Button","className","Component","connect","item","dispatch","prevItems","JSON","parse","localStorage","getItem","setItem","stringify","concat","DiscountComponent","discount","handleDiscount","inline","ItemTable","getItems","_this2","components_DiscountComponent","Table","bordered","map","key","Math","ceil","Landing","removeItem","Container","size","offset","components_AddItem","components_ItemTable","App","es","HashRouter","Route","path","component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e3aa6a25.chunk.js","sourcesContent":["import { ADD_ITEM, GET_ITEMS } from '../actions/types';\r\n\r\nconst initialState = {\r\n  itemList: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch(action.type) {\r\n    case ADD_ITEM:\r\n      return {\r\n        ...state,\r\n        itemList: action.payload\r\n      };\r\n    case GET_ITEMS:\r\n      return {\r\n        ...state,\r\n        itemList: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport itemsReducer from './itemsReducer';\r\n\r\nexport default combineReducers({\r\n  itemList: itemsReducer\r\n});\r\n","export const ADD_ITEM = 'ADD_ITEM';\r\nexport const GET_ITEMS = 'GET_ITEMS';\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index';\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(rootReducer, {}, applyMiddleware(...middleware));\r\n\r\nexport default store;\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Form, FormGroup, Label, Input, Row, Col } from 'reactstrap';\r\nimport { addItem } from '../actions/itemsAction';\r\n\r\ntype State = {\r\n  itemName: string,\r\n  itemPrice: number\r\n};\r\n\r\ntype Props = {\r\n  addItem: ({ itemName: string, itemPrice: number }) => void\r\n};\r\n\r\nclass AddItem extends Component<Props, State> {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      itemName: '',\r\n      itemPrice: 0\r\n    };\r\n\r\n    // @see https://github.com/facebook/flow/issues/1517#issuecomment-194538151\r\n    (this: any).onChange = this.onChange.bind(this);\r\n    (this: any).onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onChange(evt) {\r\n    this.setState({ [evt.target.name]: evt.target.value });\r\n  }\r\n\r\n  onSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    const newItem = {\r\n      itemName: this.state.itemName,\r\n      itemPrice: this.state.itemPrice\r\n    };\r\n\r\n    this.props.addItem(newItem);\r\n\r\n    this.setState({\r\n      itemName: '',\r\n      itemPrice: 0\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.onSubmit}>\r\n        <Row form>\r\n          <Col md={6}>\r\n            <FormGroup>\r\n              <Label for='itemName'>Продукт</Label>\r\n              <Input\r\n                type='text'\r\n                name='itemName'\r\n                value={this.state.itemName}\r\n                placeholder='название продукта'\r\n                onChange={this.onChange}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n          <Col md={4}>\r\n            <FormGroup>\r\n              <Label for='itemPrice'>Цена</Label>\r\n              <Input\r\n                type='text'\r\n                name='itemPrice'\r\n                pattern='[0-9]*'\r\n                value={this.state.itemPrice > 0 ? this.state.itemPrice : ''}\r\n                placeholder='цена продукта'\r\n                onChange={this.onChange}\r\n              />\r\n            </FormGroup>\r\n          </Col>\r\n          <Col md={2}>\r\n            <FormGroup>\r\n              <Label>&nbsp;</Label>\r\n              <Button className='form-control'>Добавить</Button>\r\n            </FormGroup>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { addItem })(AddItem);\r\n","import { ADD_ITEM, GET_ITEMS } from './types';\r\n\r\n// add item\r\nexport const addItem = item => dispatch => {\r\n  const prevItems = JSON.parse(localStorage.getItem('items')) || [];\r\n  localStorage.setItem('items', JSON.stringify(prevItems.concat(item)));\r\n  const currentItems = JSON.parse(localStorage.getItem('items'));\r\n\r\n  dispatch({\r\n    type: ADD_ITEM,\r\n    payload: currentItems\r\n  });\r\n};\r\n\r\n// get all items\r\nexport const getItems = () => dispatch => {\r\n  const currentItems = JSON.parse(localStorage.getItem('items')) || [];\r\n\r\n  dispatch({\r\n    type: GET_ITEMS,\r\n    payload: currentItems\r\n  });\r\n};\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\n\r\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\r\n\r\ntype Props = {\r\n  handleDiscount: (discount: number) => void\r\n};\r\n\r\ntype State = {\r\n  discount: number\r\n};\r\n\r\nclass DiscountComponent extends Component<Props, State> {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      discount: 0\r\n    };\r\n\r\n    // @see https://github.com/facebook/flow/issues/1517#issuecomment-194538151\r\n    (this: any).onChange = this.onChange.bind(this);\r\n    (this: any).onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onChange(evt) {\r\n    this.setState({ [evt.target.name]: evt.target.value });\r\n  }\r\n\r\n  onSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    this.props.handleDiscount(this.state.discount);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.onSubmit} inline>\r\n        <FormGroup className='mb-3 mr-2'>\r\n          <Label for='discount' className='mr-2'>Применить скидку</Label>\r\n          <Input\r\n            type='text'\r\n            name='discount'\r\n            pattern='[0-9]*'\r\n            value={this.state.discount > 0 ? this.state.discount : ''}\r\n            onChange={this.onChange}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup className='mb-3 mr-2'>\r\n          <Label>рублей</Label>\r\n        </FormGroup>\r\n        <Button className='mb-3 form-control'>Применить</Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DiscountComponent;\r\n","/* @flow */\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Table } from 'reactstrap';\r\nimport { getItems } from '../actions/itemsAction';\r\nimport DiscountComponent from './DiscountComponent';\r\n\r\ntype Props = {\r\n  getItems: () => void,\r\n  itemsList: Array<{itemName: string, itemPrice: number}>\r\n};\r\n\r\ntype State = {\r\n  discount: number\r\n};\r\n\r\nclass ItemTable extends Component<Props, State> {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      discount: 0\r\n    };\r\n\r\n    // @see https://github.com/facebook/flow/issues/1517#issuecomment-194538151\r\n    (this: any).handleDiscount = this.handleDiscount.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getItems();\r\n  }\r\n\r\n  handleDiscount(discount) {\r\n    this.setState({ discount });\r\n  };\r\n\r\n  render() {\r\n    const { itemList } = this.props.itemList;\r\n\r\n    return (\r\n      <div>\r\n        <DiscountComponent handleDiscount={this.handleDiscount} />\r\n        <Table bordered>\r\n          <thead>\r\n          <tr>\r\n            <th>Продукт</th>\r\n            <th>Цена</th>\r\n            <th>Цена со скидкой</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n            {itemList && itemList.length > 0 && itemList.map(item => (\r\n              <tr key={item.itemName}>\r\n                <td>{item.itemName}</td>\r\n                <td>{item.itemPrice}</td>\r\n                <td>\r\n                  {\r\n                    this.state.discount > 0 &&\r\n                    Math.ceil(item.itemPrice - item.itemPrice / 100 * this.state.discount)\r\n                  }\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  itemList: state.itemList\r\n});\r\n\r\nexport default connect(mapStateToProps, { getItems })(ItemTable);\r\n","import React, { Component } from 'react';\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport AddItem from './AddItem';\r\nimport ItemTable from './ItemTable';\r\n\r\nclass Landing extends Component {\r\n  componentWillUnmount() {\r\n    localStorage.removeItem('items');\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <Container>\r\n        <Row>\r\n          <Col md={{size: 8, offset: 2}}>\r\n            <div className='add-item mt-3'>\r\n              <h3>Добавить продукт</h3>\r\n              <AddItem />\r\n            </div>\r\n            <div className='cart mt-3'>\r\n              <h3>Корзина</h3>\r\n              <ItemTable />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Landing;\r\n","import React, { Component } from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport Landing from './components/Landing';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <HashRouter>\n          <Route path='/' component={Landing} />\n        </HashRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}